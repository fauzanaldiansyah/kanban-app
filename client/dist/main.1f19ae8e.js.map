{"version":3,"sources":["main.js"],"names":["URL","kanbanCurrentId","$","document","ready","auth","localStorage","access_token","hide","show","getTask","addFormPage","registerFormPage","toHome","editFormPage","id","ajax","method","headers","url","done","data","val","title","category","fail","err","console","log","editTask","event","preventDefault","addTask","responseJSON","errors","always","_","logout","clear","auth2","gapi","getAuthInstance","signOut","then","empty","forEach","element","append","deleteTask","login","email","password","setItem","onSignIn","googleUser","id_token","getAuthResponse","result","disconnect","registerUser","organization"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["const URL = \"http://localhost:3000/\"\nlet kanbanCurrentId = null\n\n$(document).ready(function(){\n    auth()\n})\n\nfunction auth(){\n    if(localStorage.access_token){\n        $('.login-page').hide()\n        $('.home-page').show()\n        $('.add-form-page').hide()\n        $('.update-form-page').hide()\n        $('.register-form-page').hide()\n        getTask()\n    }\n    else{\n        $('.home-page').hide()\n        $('.login-page').show()\n        $('.add-form-page').hide()\n        $('.update-form-page').hide()\n        $('.register-form-page').hide()\n    }\n}\n\nfunction addFormPage(){\n    $('.home-page').hide()\n    $('.add-form-page').show()\n    $('.update-form-page').hide()\n    $('.register-form-page').hide()\n}\n\nfunction registerFormPage(){\n    $('.home-page').hide()\n    $('.login-page').hide()\n    $('.add-form-page').hide()\n    $('.update-form-page').hide()\n    $('.register-form-page').show()\n}\n\nfunction toHome(){\n    $('.home-page').show()\n    $('.add-form-page').hide()\n    $('.update-form-page').hide()\n    $('.register-form-page').hide()\n}\n\nfunction editFormPage(id){\n    kanbanCurrentId = id\n    $.ajax({\n        method : 'get',\n        headers: {\n            access_token: localStorage.access_token\n        },\n        url : URL + `tasks/${id}`\n    })\n    .done(data => {\n        $('.home-page').hide()\n        $('.add-form-page').hide()\n        $('.update-form-page').show()\n        $('#title-edit').val(data.title)\n        $('#category-edit').val(data.category)\n    })\n    .fail(err => {\n        console.log(err)\n    })\n}\n\nfunction editTask(event){\n    event.preventDefault()\n    let title = $('#title-edit').val()\n    let category = $('#category-edit').val()\n    console.log(title,category)\n    $.ajax({\n        method: 'put',\n        url : URL + `tasks/${kanbanCurrentId}`,\n        headers: {\n            access_token: localStorage.access_token\n        },\n        data: { title, category }\n    })\n    .done(data => {\n        toHome()\n        getTask()\n    })\n    .fail(err => {\n        console.log(err)\n    })\n}\n\nfunction addTask(event){\n    event.preventDefault()\n    let title = $('#title').val()\n    let category = $('#category').val()\n    $.ajax({\n        method: 'post' ,\n        url: URL + 'tasks',\n        headers: {\n            access_token: localStorage.access_token\n        },\n        data : {\n            title, category\n        }\n    })\n    .done(data => {\n        getTask()\n        toHome()\n    })\n    .fail(err => {\n        console.log(err.responseJSON.errors)\n    })  \n    .always(_ => {\n        $('#title').val('')\n        $('#category').val('')\n      })\n}       \n\nfunction logout(){\n    localStorage.clear()\n    localStorage.clear()\n    let auth2 = gapi.auth2.getAuthInstance();\n    auth2.signOut().then(function () {\n      console.log('User signed out.');\n    });\n    auth()\n}\n\nfunction getTask(){\n    $.ajax({\n        method: 'get',\n        url : URL + 'tasks',\n        headers : {access_token: localStorage.access_token}\n    })\n    .done(data => {\n        $('#tasks-data').empty()\n        data.forEach(element => {\n            $('#tasks-data').append(\n\n                `\n                    <tr id = 'tasks-row'>\n                        <td class=\"font-weight-bold\">  ${element.title} </td>\n                        <td> ${element.category} </td>\n                        <td> <button class=\"btn btn-secondary btn-sm\" onclick=\"editFormPage(${element.id})\"> Edit  </button> \n                            <button class=\"btn btn-secondary btn-sm\" onclick=\"deleteTask(${element.id})\"> Delete  </button> \n                        </td>\n                    </tr>\n            `\n            )\n        })\n    })\n    .fail(err => {\n        console.log(err)\n    })\n}\n\nfunction deleteTask(id){\n    $.ajax({\n        method : 'delete',\n        url: URL + `tasks/${id}`,\n        headers : {\n            access_token: localStorage.access_token\n        }\n    })\n    .done(data => {\n        auth()\n    })\n    .fail(err => {\n        console.log(err.responseJSON.errors)\n    })\n}\n\n\nfunction login(event){\n    event.preventDefault()\n    let email = $('#email-login').val()\n    let password = $('#password-login').val()\n    console.log(email,password)\n    $.ajax({\n        method: 'post',\n        url : URL + 'users/login',\n        data: {\n            email, password\n        }\n    })\n    .done(data => {\n        console.log(data, '<<<data')\n        localStorage.setItem('access_token',data.access_token)\n        auth()\n    })\n    .fail(err => {\n        console.log(err.responseJSON.errors)\n    })\n    .always(_ => {\n        $('#email-login').val('')\n        $('#password-login').val('')\n      })\n}\n\nfunction onSignIn(googleUser) {\n    let id_token = googleUser.getAuthResponse().id_token\n    auth()\n    $.ajax({\n        method: 'post',\n        url : URL + 'users/googlesign', \n        data : {\n            id_token\n        }\n    })\n    .done(result => {\n        console.log(result, result.data.access_token, '<<<<data')\n        localStorage.setItem('access_token', result.data.access_token)\n        auth()\n        var auth2 = gapi.auth2.getAuthInstance()\n        auth2.disconnect()\n    })\n    .fail(err => {\n        console.log(err.responseJSON)\n    })\n}\n\nfunction registerUser(event){\n    event.preventDefault()\n    let email = $('#email-register').val()\n    let password = $('#password-register').val()\n    let organization = $('#organization-register').val()\n    $.ajax({\n        method: 'post' ,\n        url: URL + 'users/register',\n        data : {\n            email, password, organization\n        }\n    })\n    .done(data => {\n        auth()\n    })\n    .fail(err => {\n        console.log(err)\n    })  \n    .always(_ => {\n        $('#email-register').val('')\n        $('#password-register').val('')\n        $('#organization-register').val('')\n      })\n}     "]}